NAME=observer
SERVICEPATH=/etc/init.d/
DAEMONPATH=/usr/local/bin/
SERVICEFOLDER=Service/
DAEMONFOLDER=Daemon/

PERMISSION=755

BUILD=build/
SRC=src/

CC=gcc
COPY=cp
CHANGEPERMISSION=chmod

install: inotify
	$(COPY) $(SERVICEFOLDER)$(NAME)Service $(SERVICEPATH)$(NAME)
	$(CHANGEPERMISSION) $(PERMISSION) $(SERVICEPATH)$(NAME)
	$(COPY) $(DAEMONFOLDER)$(BUILD)$(NAME) $(DAEMONPATH)$(NAME)

inotify:
		$(CC) $(DAEMONFOLDER)$(SRC)$(NAME).c $(DAEMONFOLDER)$(SRC)main.c -o $(DAEMONFOLDER)$(BUILD)$(NAME)
